import numpy as np

CM = np.array([
 [48,  0,  4,  3,  0,  9,  3,  6,  0,  5,  0,  0],
 [0, 22,  8,  7,  0,  5,  1,  0,  7,  0,  3,  1],
 [5, 10, 62,  7,  1,  1,  7,  3,  9,  8,  4,  5],
 [24, 57, 51, 99,  6, 41,  7,  3, 31,  7, 19, 12],
 [0,  1,  0,  0,  7,  0,  0,  1,  4,  1,  0,  0],
 [10,  4,  9, 13,  0, 80,  0,  2,  2,  1,  0,  3],
 [2,  0,  1,  0,  1,  1, 87,  1,  1,  0,  2,  0],
 [2,  0,  0,  0,  3,  0,  1,  0,  3,  0,  0,  0],
 [0,  4,  4,  3,  4,  0,  0,  0, 60,  2, 11,  4],
 [1,  0,  2,  0,  0,  2,  1,  1,  2, 10,  3,  0],
 [5,  3,  2,  3,  1,  0,  2,  0, 33,  4, 21,  6],
 [9, 15,  7, 11,  4, 11,  3,  0, 44,  1, 15, 15]
])

N = CM.sum()
TP = np.trace(CM)
FN = (CM.sum(axis=1) - np.diag(CM)).sum()
FP = (CM.sum(axis=0) - np.diag(CM)).sum()

TN = CM.shape[0]*N - (TP + FN + FP)

TPR = TP / (TP + FN)
TNR = TN / (TN + FP)

print(f"Micro TPR = {TPR:.3f}")    # ~0.432
print(f"Micro TNR = {TNR:.3f}")    # ~0.948
