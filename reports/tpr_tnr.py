import numpy as np

CM = np.array([
    [32,  0,  2,  2,  0,  6,  2, 26,  0,  7,  1,  0],
    [0,  40,  3,  1,  1,  0,  0,  2,  1,  2,  1,  5],
    [4,  12, 75, 16,  0,  1,  1,  2,  2,  4,  3,  2],
    [16, 20, 65, 134,  2, 35,  1, 20, 18,  6, 17, 23],
    [0,  1,  1,  0,  8,  0,  0,  0,  0,  2,  1,  1],
    [5,  2,  2, 16,  0, 85,  1, 10,  0,  0,  1,  2],
    [1,  0,  0,  0,  0,  0, 93,  0,  0,  1,  0,  1],
    [2,  0,  0,  0,  0,  0,  0,  7,  0,  0,  0,  0],
    [3,  2,  3,  5,  1,  1,  1,  0, 54,  1, 15,  6],
    [3,  1,  1,  0,  1,  1,  1,  0, 0,  12,  1,  1],
    [0,  4,  2,  7,  0,  0,  3,  1, 18,  5, 38,  2],
    [7, 14,  3, 14,  7, 11,  4,  1, 28,  3, 12, 31]
])

N = CM.sum()
TP = np.trace(CM)
FN = (CM.sum(axis=1) - np.diag(CM)).sum()
FP = (CM.sum(axis=0) - np.diag(CM)).sum()

TN = CM.shape[0]*N - (TP + FN + FP)

TPR = TP / (TP + FN)
TNR = TN / (TN + FP)

print(f"Micro TPR = {TPR:.3f}")    # ~0.514
print(f"Micro TNR = {TNR:.3f}")    # ~0.956
